{"name":"whatlastgenre","tagline":"Improves genre metadata of audio files based on tags from various music sites.","body":"# whatlastgenre\r\n\r\nImproves genre metadata of audio files based on tags from various music sites.\r\n\r\n* Supported audio files: flac, ogg, mp3, m4a\r\n* Supported music sites: WhatCD, LastFM, MusicBrainz, Discogs, EchoNest, Idiomag \r\n* Feature Overview\r\n\t* Gets genre tags for artists and albums from music sites and finds the\r\n\tmost eligibles ones by merging, splitting, filtering and scoring them.\r\n\t\t* Merges similar tags in different writings to ensure consistent names,\r\n\t\teg. DnB, D&B, Drum and Bass -> Drum & Bass;\r\n\t\tAlt., Altern, Alterneitif -> Alternative\r\n\t\t* Splits tags in various applicable ways, eg.\r\n\t\tJazz/Funk&Rock -> Jazz, Funk, Rock;\r\n\t\tAlternative Rock -> Alternative, Rock\r\n\t\t* Filters by personal preferences and preset or custom filters\r\n\t\t* Scores tas while taking personal preferences into account\r\n\t* Caches all data received from music sites to make reruns super fast\r\n\t* Makes use of MusicBrainz IDs when possible and recognizes invalid ones\r\n\t* Optional: gets release type (Album, EP, Anthology, ...) (from What)\r\n\t* Optional: gets MusicBrainz IDs\r\n\t* Interactive mode, especially for release types and MBIDs\r\n\t(it's not guessing wrong data)\r\n\t\t* Progressive fuzzy matching to reduce needed user input\r\n\t\t* MusicBrainz: Tries to identify artists by looking at its albums \r\n\t* Dry-mode for safe testing\r\n\r\n\r\n## How it works\r\nIt scans through folders for albums and receives genre tags for them and their\r\nartists from different music sites. Equal tags in different writings will be\r\nmerged together to ensure proper scoring and consistent names. Tags containing\r\nseparators, too many words or specific parts will get split up. The tags get\r\nfiltered and scored. Artist and album tags get stored separately at first, but\r\nget merged in the end and the best scored tags will be saved as genre metadata\r\nin the corresponding album tracks. All data received from music sites will get\r\ncached after pre-filtering so that rerunning the script will be super fast.\r\nThere are several score multipliers to adjust the scoring to your needs and\r\ntake your personal preferences into account. Please take a look at\r\n\"Configuration options explained\" below for more details.\r\n\r\n### Basic Scoring\r\n\r\n#### Tags scoring with count (Last.FM, MusicBrainz, Idiomag, What partially)\r\nIf counts are supplied for the tags they will get scored by `count/topcount`,\r\nwhere `topcount` is the highest count of all tags from a source. So the top\r\ntag gets a score of 1.0, a tag having only half of the top tag's count gets\r\na score of 0.5 and so on. \r\n\r\n#### Tags scoring without count (Discogs, EchoNest, What partially)\r\nTags supplied without a count will be scored `0.85^(n-1)`, where `n` is the\r\ntotal number of tags supplied by this source. The more tags the lower the score\r\nfor each tag will be. So if only one tag is supplied, it will get a score of\r\n1.0, two tags will get a score of 0.85 each, three get 0.72 each and so on...\r\n\r\n\r\n## Installation\r\nYou'll need Python 2.7. Running the following should automatically install all\r\nneeded dependencies (musicbrainzngs, mutagen, requests):\r\n\r\n\t$ python setup.py install\r\n\r\n\r\n## Configuration\r\nA configuration file with default values will be created on first run.\r\n\r\n### Example configuration file\r\n\t[wlg]\r\n\tsources = whatcd, mbrainz, discogs, echonest, lastfm, idiomag\r\n\ttagsfile = tags.txt\r\n\tcache_timeout = 7\r\n\tcache_saveint = 10\r\n\twhatcduser = whatusername\r\n\twhatcdpass = whatpassword\r\n\t[genres]\r\n\tlove = soundtrack\r\n\thate = alternative, electronic, indie, pop, rock\r\n\tblacklist = charts, male vocalists, other\r\n\tfilters = instrument, label, location, name, year\r\n\t[scores]\r\n\tsrc_whatcd = 1.66\r\n\tsrc_lastfm = 0.66\r\n\tsrc_mbrainz = 1.00\r\n\tsrc_discogs = 1.00\r\n\tsrc_idiomag = 1.00\r\n\tsrc_echonest = 1.00\r\n\tartist = 1.33\r\n\tsplitup = 0.33\r\n\r\n\r\n### Configuration options explained\r\n\r\n#### whatlastgenre (wlg) section\r\n\r\n##### sources option\r\nThe music sites/data providers where to get the tags from. Will be called in\r\nthe order you named them, since lastfm supports search by MBIDs make sure to\r\nmention mbrainz before lastfm. You should generally mention sources with good\r\nspelled tags (eg. sources with a fixed set of possible genres) before sources\r\nwith misspelled tags (eg. lastfm user tags) to avoid getting malformed tags.\r\nDisabling music sites is not recommended, the more sources the better tags.\r\n* `whatcd` [[URL](https://what.cd/)]\r\nwell-kept tags from users\r\n* `lastfm` [[URL](http://www.last.fm/)]\r\nmbid search possible, many inaccurate and personal tags from users\r\n* `mbrainz` [[URL](http://musicbrainz.org/)]\r\nhome of mbids\r\n* `discogs` [[URL](http://www.idiomag.com/)]\r\nalbum search only, fixed list of [genres](http://www.discogs.com/help/submission-guidelines-release-genres-styles.html) and [styles](http://wiki.discogs.com/index.php/Style_Guide)\r\n* `idiomag` [[URL](http://www.idiomag.com/)]\r\nartist search only \r\n* `echonest` [[URL](http://echonest.com/)]\r\nartist search only, fixed list of [genres](http://developer.echonest.com/docs/v4/artist.html#list-genres)\r\n\r\n##### tagsfile option\r\nPath to the tags.txt file. Use an absolute path here if you have problems\r\naccessing the tagsfile by default.\r\n\r\n##### cache_timout option\r\nTime in days after which cache hits get invalid.\r\nDefault `7`, Range `3 - 90`\r\n\r\n##### cache_saveint option\r\nInterval in minutes to save the cache during runtime.\r\nDefault `10`, Range `5 - 60`\r\n\r\n#### genres section\r\n\r\n##### love and hate options\r\nList of tags that get a multiplier bonus of `2.0` and `0.5` respectively.\r\nShould be considered as \"soft\" white-/blacklist where you can in-/decrease the\r\noccurrence of specific tags that you don't like or that are too inaccurate for\r\nyou without fully banning them like with the blacklist option.\r\n\r\n##### filters option\r\nUse this to activate filters for specific tag groups:\r\n* `instrument` instrument related names, like piano or guitarist\r\n* `label` label names\r\n* `location` country, city and nationality names\r\n* `year` year tags, like 1980s\r\n* create your own filter lists by adding filter sections to the tags.txt file,\r\nconsider them as large blacklists.\r\n\r\n#### scores section\r\n\r\n##### src_* options\r\nEvery source has its own score multiplier, so music sites that generally\r\nprovide higher quality tags can be given advantage over sources that often\r\nprovide bad, inaccurate or personal tags. Increase if you trust the tags from\r\na source, lower if the source provides many inaccurate or personal tags. If you\r\ndon't want tags from a specific source remove it from the sources list option.\r\nDefault `1.0`, Range `0.5 - 2.0`. See sources option above.\r\n\r\n##### artist option\r\nScore multiplier to give tags found by artist/albumartist searches advantage\r\nover tags from album searches. The tags get stored separately at first but\r\nthen put together while taking this multiplier into account. This enables\r\nthat multiple albums from one artist get more equal tags.\r\nDefault `1.33`, Range `0.5 - 2.0`\r\n* `< 1.0` prefer album tags\r\n* `= 1.0` handle them equally\r\n* `> 1.0` prefer artist tags\r\n\r\n##### splitup option\r\nScore multiplier for modifying the score of the base tag from a tag that got\r\nsplit up by space, this enables you to decide whether to keep, prefer or ban\r\nthe base tags. For example, lets say we have 'Alternative Rock' with a score\r\nof 1: It will end up as Alternative with score 1, Rock with score 1 and\r\nAlternative Rock with score `1 * <splitup-score>`. So if you don't want to keep\r\nAlternative Rock, just set it to 0, but consider using a very small number\r\ninstead to avoid banning them totally.\r\nDefault `0.33`, Range `0.0 - 1.0`\r\n* `= 0.0` forget about the \"base\" tags\r\n* `< 1.0` prefer split parts\r\n* `= 1.0` handle them equally\r\n\r\n\r\n## Usage\r\n\t  \r\n\tusage: whatlastgenre.py [-h] [-v] [-n] [-c] [-i] [-r] [-m] [-l N]\r\n\t                        [--config CONFIG] [--cache CACHE]\r\n\t                        path [path ...]\r\n\t\r\n\tpositional arguments:\r\n\t  path                 folder(s) to scan for albums\r\n\t\r\n\toptional arguments:\r\n\t  -h, --help           show this help message and exit\r\n\t  -v, --verbose        more detailed output (default: False)\r\n\t  -n, --dry            don't save metadata (default: False)\r\n\t  -c, --cacheignore    ignore cache hits (default: False)\r\n\t  -i, --interactive    interactive mode (default: False)\r\n\t  -r, --tag-release    tag release type (from What) (default: False)\r\n\t  -m, --tag-mbids      tag musicbrainz ids (default: False)\r\n\t  -l N, --tag-limit N  max. number of genre tags (default: 4)\r\n\t  --config CONFIG      location of the configuration file\r\n\t                       (default: ~/.whatlastgenre/config)\r\n\t  --cache CACHE        location of the cache file\r\n\t                       (default: ~/.whatlastgenre/cache)\r\n\r\n\r\nIf you seriously want to tag release-types `-r` or musicbrainz-ids `-m` you\r\nshould also enable interactive mode `-i`. Consider to save the MBIDs `-m` when\r\nusing mbrainz, you searched for them, why not save them? ;)\r\n\r\nI recommend first doing a dry-run to fill the cache and then doing a normal\r\nrun with interactivity enabled. This way you can answer all interactivity\r\nquestions without much waiting time in between.\r\n\r\nRemove the cache file to reset the cache. If you only want to reset the cache\r\nfor specific albums rerun with `-c` on this albums to ignore cache hits.\r\n\r\n### Examples\r\n\r\nDo a verbose dry-run on your albums in /home/user/music changing nothing:\r\n\r\n\t$ whatlastgenre.py -vn /home/user/music\r\n\r\nTag max. 3 genre tags for all albums in /home/user/music:\r\n\r\n\t$ whatlastgenre.py -l 3 /home/user/music\r\n\r\nTo get the most of it for all albums in /home/user/music and /media/music:\r\n\r\n\t$ whatlastgenre.py -irml 5 /home/user/music /media/music\r\n\r\n\r\n## How to help\r\n\r\nThanks for being interested in helping to improve it :)\r\nThings you can tell me about:\r\n* Tag naming inconsistencies\r\n* Tags that are similar but haven't been merged together\r\n* Tags that doesn't get split but should, or do get split but shouldn't\r\n* Tags that get filtered out but shouldn't (!)\r\n* If your unhappy with the tag results\r\n* Did i miss something in tags.txt?\r\n* Any errors of course ;)\r\n\r\nI'm also happy for any other kind of suggestions or just send me your tags\r\nstatistics output for a `-nl 10`-run (please append your config if it differs\r\nmuch from the default one), i'll try to improve tags.txt with it. :)\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}